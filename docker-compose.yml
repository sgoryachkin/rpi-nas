version: "3.6" 
services:
  dlna-movies:
    image: sego/minidlna-armhf:stable
    networks: 
      pubnet:
        ipv4_address: 192.168.1.201
    volumes: 
      - type: bind
        source: ${MOVIES_DIR}
        target: /media
        read_only: true
    environment: 
      - MINIDLNA_media_dir=V,/media
      - MINIDLNA_friendly_name=Фильмы
    restart: always
  dlna-photos:
    image: sego/minidlna-armhf:stable
    networks: 
      pubnet:
        ipv4_address: 192.168.1.202
    volumes: 
      - type: bind
        source: ${PHOTOS_DIR}
        target: /media
        read_only: true
    environment: 
      - MINIDLNA_media_dir=PV,/media
      - MINIDLNA_friendly_name=Фото
    restart: always
  torrent:
    image: sego/transmission-armhf:latest
    restart: always
    networks: 
      pubnet:
        ipv4_address: 192.168.1.203
networks:
  pubnet:
    driver: macvlan
    driver_opts:
      parent: eth0
    ipam:
      config:
        - subnet: 192.168.1.0/24
